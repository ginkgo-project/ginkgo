<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ginkgo: gko::preconditioner::Jacobi&lt; ValueType, IndexType &gt;::parameters_type Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_doc.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Ginkgo
   &#160;<span id="projectnumber">Generated from pipelines/145904014 branch based on develop. Ginkgo version 1.1.1</span>
   </div>
   <div id="projectbrief">A numerical linear algebra library targeting many-core architectures</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegko.html">gko</a></li><li class="navelem"><a class="el" href="namespacegko_1_1preconditioner.html">preconditioner</a></li><li class="navelem"><a class="el" href="classgko_1_1preconditioner_1_1Jacobi.html">Jacobi</a></li><li class="navelem"><a class="el" href="structgko_1_1preconditioner_1_1Jacobi_1_1parameters__type.html">parameters_type</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structgko_1_1preconditioner_1_1Jacobi_1_1parameters__type-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">gko::preconditioner::Jacobi&lt; ValueType, IndexType &gt;::parameters_type Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for gko::preconditioner::Jacobi&lt; ValueType, IndexType &gt;::parameters_type:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="structgko_1_1preconditioner_1_1Jacobi_1_1parameters__type__coll__graph.svg" width="100%" height="478"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4514d906e32b8331a0c9c90ff29f4fbd"><td class="memTemplParams" colspan="2"><a id="a4514d906e32b8331a0c9c90ff29f4fbd"></a>
template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:a4514d906e32b8331a0c9c90ff29f4fbd"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><b>with_max_block_size</b> (Args &amp;&amp;... _value) const -&gt; const ::gko::xstd::decay_t&lt; decltype(*this)&gt; &amp;</td></tr>
<tr class="separator:a4514d906e32b8331a0c9c90ff29f4fbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17aa9161d5ea5c0f4974c77afc41d900"><td class="memTemplParams" colspan="2"><a id="a17aa9161d5ea5c0f4974c77afc41d900"></a>
template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:a17aa9161d5ea5c0f4974c77afc41d900"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><b>with_max_block_stride</b> (Args &amp;&amp;... _value) const -&gt; const ::gko::xstd::decay_t&lt; decltype(*this)&gt; &amp;</td></tr>
<tr class="separator:a17aa9161d5ea5c0f4974c77afc41d900"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fcbaa7fdaf17490d0b6a5fccfe70e80"><td class="memTemplParams" colspan="2"><a id="a9fcbaa7fdaf17490d0b6a5fccfe70e80"></a>
template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:a9fcbaa7fdaf17490d0b6a5fccfe70e80"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><b>with_block_pointers</b> (Args &amp;&amp;... _value) const -&gt; const ::gko::xstd::decay_t&lt; decltype(*this)&gt; &amp;</td></tr>
<tr class="separator:a9fcbaa7fdaf17490d0b6a5fccfe70e80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c213c5e7a4b749e8def7c627057b2e2"><td class="memTemplParams" colspan="2"><a id="a2c213c5e7a4b749e8def7c627057b2e2"></a>
template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:a2c213c5e7a4b749e8def7c627057b2e2"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><b>with_storage_optimization</b> (Args &amp;&amp;... _value) const -&gt; const ::gko::xstd::decay_t&lt; decltype(*this)&gt; &amp;</td></tr>
<tr class="separator:a2c213c5e7a4b749e8def7c627057b2e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6c8cbe0cab5d055b509c74eba740aef"><td class="memTemplParams" colspan="2"><a id="ab6c8cbe0cab5d055b509c74eba740aef"></a>
template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:ab6c8cbe0cab5d055b509c74eba740aef"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><b>with_accuracy</b> (Args &amp;&amp;... _value) const -&gt; const ::gko::xstd::decay_t&lt; decltype(*this)&gt; &amp;</td></tr>
<tr class="separator:ab6c8cbe0cab5d055b509c74eba740aef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_structgko_1_1enable__parameters__type"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_structgko_1_1enable__parameters__type')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="structgko_1_1enable__parameters__type.html">gko::enable_parameters_type&lt; parameters_type, Factory &gt;</a></td></tr>
<tr class="memitem:a07bc1963e83201576761e013f22ce621 inherit pub_methods_structgko_1_1enable__parameters__type"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; Factory &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgko_1_1enable__parameters__type.html#a07bc1963e83201576761e013f22ce621">on</a> (std::shared_ptr&lt; const <a class="el" href="classgko_1_1Executor.html">Executor</a> &gt; exec) const</td></tr>
<tr class="memdesc:a07bc1963e83201576761e013f22ce621 inherit pub_methods_structgko_1_1enable__parameters__type"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new factory on the specified executor.  <a href="structgko_1_1enable__parameters__type.html#a07bc1963e83201576761e013f22ce621">More...</a><br /></td></tr>
<tr class="separator:a07bc1963e83201576761e013f22ce621 inherit pub_methods_structgko_1_1enable__parameters__type"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a7d11d10b347b25b64b5b916e6a74364e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacegko.html#a318c831e3fe269ba04c6ed8bf5a71073">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgko_1_1preconditioner_1_1Jacobi_1_1parameters__type.html#a7d11d10b347b25b64b5b916e6a74364e">max_block_size</a> { 32u }</td></tr>
<tr class="memdesc:a7d11d10b347b25b64b5b916e6a74364e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximal size of diagonal blocks.  <a href="structgko_1_1preconditioner_1_1Jacobi_1_1parameters__type.html#a7d11d10b347b25b64b5b916e6a74364e">More...</a><br /></td></tr>
<tr class="separator:a7d11d10b347b25b64b5b916e6a74364e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a042df68c54ea721101c4b064ed450a1f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacegko.html#a318c831e3fe269ba04c6ed8bf5a71073">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgko_1_1preconditioner_1_1Jacobi_1_1parameters__type.html#a042df68c54ea721101c4b064ed450a1f">max_block_stride</a> { 0u }</td></tr>
<tr class="memdesc:a042df68c54ea721101c4b064ed450a1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stride between two columns of a block (as number of elements).  <a href="structgko_1_1preconditioner_1_1Jacobi_1_1parameters__type.html#a042df68c54ea721101c4b064ed450a1f">More...</a><br /></td></tr>
<tr class="separator:a042df68c54ea721101c4b064ed450a1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab70db5d25c2efd13579170b28218ea66"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgko_1_1Array.html">gko::Array</a>&lt; index_type &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgko_1_1preconditioner_1_1Jacobi_1_1parameters__type.html#ab70db5d25c2efd13579170b28218ea66">block_pointers</a> { nullptr }</td></tr>
<tr class="memdesc:ab70db5d25c2efd13579170b28218ea66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starting (row / column) indexes of individual blocks.  <a href="structgko_1_1preconditioner_1_1Jacobi_1_1parameters__type.html#ab70db5d25c2efd13579170b28218ea66">More...</a><br /></td></tr>
<tr class="separator:ab70db5d25c2efd13579170b28218ea66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51d0eec65f99d6dd5b0ebe5ba69390dd"><td class="memItemLeft" align="right" valign="top">storage_optimization_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgko_1_1preconditioner_1_1Jacobi_1_1parameters__type.html#a51d0eec65f99d6dd5b0ebe5ba69390dd">storage_optimization</a> { <a class="el" href="classgko_1_1precision__reduction.html">precision_reduction</a>(0, 0) }</td></tr>
<tr class="memdesc:a51d0eec65f99d6dd5b0ebe5ba69390dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">The precisions to use for the blocks of the matrix.  <a href="structgko_1_1preconditioner_1_1Jacobi_1_1parameters__type.html#a51d0eec65f99d6dd5b0ebe5ba69390dd">More...</a><br /></td></tr>
<tr class="separator:a51d0eec65f99d6dd5b0ebe5ba69390dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4fd0de7ce4d390584e947afb6d0ce73"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacegko.html#adfcb75c44f6b6c701989419c166f6e7e">remove_complex</a>&lt; value_type &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgko_1_1preconditioner_1_1Jacobi_1_1parameters__type.html#ad4fd0de7ce4d390584e947afb6d0ce73">accuracy</a> { 1e-1 }</td></tr>
<tr class="memdesc:ad4fd0de7ce4d390584e947afb6d0ce73"><td class="mdescLeft">&#160;</td><td class="mdescRight">The relative accuracy of the adaptive <a class="el" href="classgko_1_1preconditioner_1_1Jacobi.html" title="A block-Jacobi preconditioner is a block-diagonal linear operator, obtained by inverting the diagonal...">Jacobi</a> variant.  <a href="structgko_1_1preconditioner_1_1Jacobi_1_1parameters__type.html#ad4fd0de7ce4d390584e947afb6d0ce73">More...</a><br /></td></tr>
<tr class="separator:ad4fd0de7ce4d390584e947afb6d0ce73"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_structgko_1_1enable__parameters__type"><td colspan="2" onclick="javascript:toggleInherit('pub_types_structgko_1_1enable__parameters__type')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="structgko_1_1enable__parameters__type.html">gko::enable_parameters_type&lt; parameters_type, Factory &gt;</a></td></tr>
<tr class="memitem:a0d16b999fffe1aecfbc4824381352268 inherit pub_types_structgko_1_1enable__parameters__type"><td class="memItemLeft" align="right" valign="top"><a id="a0d16b999fffe1aecfbc4824381352268"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>factory</b> = Factory</td></tr>
<tr class="separator:a0d16b999fffe1aecfbc4824381352268 inherit pub_types_structgko_1_1enable__parameters__type"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ad4fd0de7ce4d390584e947afb6d0ce73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4fd0de7ce4d390584e947afb6d0ce73">&#9670;&nbsp;</a></span>accuracy</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType  = default_precision, typename IndexType  = int32&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacegko.html#adfcb75c44f6b6c701989419c166f6e7e">remove_complex</a>&lt;value_type&gt; <a class="el" href="classgko_1_1preconditioner_1_1Jacobi.html">gko::preconditioner::Jacobi</a>&lt; ValueType, IndexType &gt;::parameters_type::accuracy { 1e-1 }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The relative accuracy of the adaptive <a class="el" href="classgko_1_1preconditioner_1_1Jacobi.html" title="A block-Jacobi preconditioner is a block-diagonal linear operator, obtained by inverting the diagonal...">Jacobi</a> variant. </p>
<p>This parameter is only used if the adaptive version of the algorithm is selected (see storage_optimization parameter for more details). The parameter is used when detecting the optimal precisions of blocks whose precision has been set to <a class="el" href="classgko_1_1precision__reduction.html#a1fde4dd48fab015698c1616408f3ef81" title="Returns a special encoding which instructs the algorithm to automatically detect the best precision.">precision_reduction::autodetect()</a>.</p>
<p>The parameter represents the number of correct digits in the result of Jacobi::apply() operation of the adaptive variant, compared to the non-adaptive variant. In other words, the total preconditioning error will be:</p>
<div class="fragment"><div class="line">|| inv(A)x - inv(M)x|| / || inv(A)x || &lt;= c * (dropout + <a class="code" href="structgko_1_1preconditioner_1_1Jacobi_1_1parameters__type.html#ad4fd0de7ce4d390584e947afb6d0ce73">accuracy</a>)</div>
</div><!-- fragment --><p>where <code>c</code> is some constant depending on the problem size and roundoff error and <code>dropout</code> the error introduced by disregarding off-diagonal elements.</p>
<p>Larger values reduce the volume of memory transfer, but increase the error compared to using full precision storage. Thus, tuning the accuracy to a value as close as possible to <code>dropout</code> will result in optimal memory savings, while not degrading the quality of solution. </p>

</div>
</div>
<a id="ab70db5d25c2efd13579170b28218ea66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab70db5d25c2efd13579170b28218ea66">&#9670;&nbsp;</a></span>block_pointers</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType  = default_precision, typename IndexType  = int32&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgko_1_1Array.html">gko::Array</a>&lt;index_type&gt; <a class="el" href="classgko_1_1preconditioner_1_1Jacobi.html">gko::preconditioner::Jacobi</a>&lt; ValueType, IndexType &gt;::parameters_type::block_pointers { nullptr }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Starting (row / column) indexes of individual blocks. </p>
<p>An index past the last block has to be supplied as the last value. I.e. the size of the array has to be the number of blocks plus 1, where the first value is 0, and the last value is the number of rows / columns of the matrix.</p>
<dl class="section note"><dt>Note</dt><dd>Even if not set explicitly, this parameter will be set to automatically detected values once the preconditioner is generated. </dd>
<dd>
If the parameter is set automatically, the size of the array does not correlate to the number of blocks, and is implementation defined. To obtain the number of blocks <code>n</code> use <a class="el" href="classgko_1_1preconditioner_1_1Jacobi.html#afb44d8e560f00f65c46c6813638ce24c" title="Returns the number of blocks of the operator.">Jacobi::get_num_blocks()</a>. The starting indexes of the blocks are stored in the first <code>n+1</code> values of this array. </dd>
<dd>
If the block-diagonal structure can be determined from the problem characteristics, it may be beneficial to pass this information specifically via this parameter, as the autodetection procedure is only a rough approximation of the true block structure. </dd>
<dd>
The maximum block size set by the max_block_size parameter has to be respected when setting this parameter. Failure to do so will lead to undefined behavior. </dd></dl>

</div>
</div>
<a id="a7d11d10b347b25b64b5b916e6a74364e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d11d10b347b25b64b5b916e6a74364e">&#9670;&nbsp;</a></span>max_block_size</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType  = default_precision, typename IndexType  = int32&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacegko.html#a318c831e3fe269ba04c6ed8bf5a71073">uint32</a> <a class="el" href="classgko_1_1preconditioner_1_1Jacobi.html">gko::preconditioner::Jacobi</a>&lt; ValueType, IndexType &gt;::parameters_type::max_block_size { 32u }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Maximal size of diagonal blocks. </p>
<dl class="section note"><dt>Note</dt><dd>This value has to be between 1 and 32 (NVIDIA)/64 (AMD). </dd></dl>

</div>
</div>
<a id="a042df68c54ea721101c4b064ed450a1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a042df68c54ea721101c4b064ed450a1f">&#9670;&nbsp;</a></span>max_block_stride</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType  = default_precision, typename IndexType  = int32&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacegko.html#a318c831e3fe269ba04c6ed8bf5a71073">uint32</a> <a class="el" href="classgko_1_1preconditioner_1_1Jacobi.html">gko::preconditioner::Jacobi</a>&lt; ValueType, IndexType &gt;::parameters_type::max_block_stride { 0u }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stride between two columns of a block (as number of elements). </p>
<p>Should be a multiple of cache line size for best performance.</p>
<dl class="section note"><dt>Note</dt><dd>If this value is 0, it uses 64 in hip AMD but 32 in NVIDIA or reference executor. The allowed value: 0, 64 for AMD and 0, 32 for NVIDIA </dd></dl>

</div>
</div>
<a id="a51d0eec65f99d6dd5b0ebe5ba69390dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51d0eec65f99d6dd5b0ebe5ba69390dd">&#9670;&nbsp;</a></span>storage_optimization</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType  = default_precision, typename IndexType  = int32&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">storage_optimization_type <a class="el" href="classgko_1_1preconditioner_1_1Jacobi.html">gko::preconditioner::Jacobi</a>&lt; ValueType, IndexType &gt;::parameters_type::storage_optimization { <a class="el" href="classgko_1_1precision__reduction.html">precision_reduction</a>(0, 0) }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The precisions to use for the blocks of the matrix. </p>
<p>This parameter can either be a single instance of <a class="el" href="classgko_1_1precision__reduction.html" title="This class is used to encode storage precisions of low precision algorithms.">precision_reduction</a> or an <a class="el" href="classgko_1_1Array.html" title="An Array is a container which encapsulates fixed-sized arrays, stored on the Executor tied to the Arr...">Array</a> of <a class="el" href="classgko_1_1precision__reduction.html" title="This class is used to encode storage precisions of low precision algorithms.">precision_reduction</a> values. If set to <code>precision_reduction(0, 0)</code> (this is the default), a regular full-precision block-Jacobi will be used. Any other value (or an <a class="el" href="classgko_1_1Array.html" title="An Array is a container which encapsulates fixed-sized arrays, stored on the Executor tied to the Arr...">Array</a> of values) will map to the adaptive variant.</p>
<p>The best starting point when evaluating the potential of the adaptive version is to set this parameter to <code><a class="el" href="classgko_1_1precision__reduction.html#a1fde4dd48fab015698c1616408f3ef81" title="Returns a special encoding which instructs the algorithm to automatically detect the best precision.">precision_reduction::autodetect()</a></code>. This option will cause the preconditioner to reduce the memory transfer volume as much as possible, while trying to maintain the quality of the preconditioner similar to that of the full precision block-Jacobi.</p>
<p>For finer control, specific instances of <a class="el" href="classgko_1_1precision__reduction.html" title="This class is used to encode storage precisions of low precision algorithms.">precision_reduction</a> can be used. Supported values are <code>precision_reduction(0, 0)</code>, <code>precision_reduction(0, 1)</code> and <code>precision_reduction(0, 2)</code>. Any other value will have the same effect as <code>precision_reduction(0, 0)</code>.</p>
<p>If the ValueType template parameter is set to <code>double</code> (or the complex variant <code>std::complex&lt;double&gt;</code>), <code>precision_reduction(0, 0)</code> will use IEEE double precision for preconditioner storage, <code>precision_reduction(0, 1)</code> will use IEEE single precision, and <code>precision_reduction(0, 2)</code> will use IEEE half precision.</p>
<p>It ValueType is set to <code>float</code> (or <code>std::complex&lt;float&gt;</code>), <code>precision_reduction(0, 0)</code> will use IEEE single precision for preconditioner storage, and both <code>precision_reduction(0, 1)</code> and <code>precision_reduction(0, 2)</code> will use IEEE half precision.</p>
<p>Instead of specifying the same precision for all blocks, the precision of the elements can be specified on per-block basis by passing an array of <a class="el" href="classgko_1_1precision__reduction.html" title="This class is used to encode storage precisions of low precision algorithms.">precision_reduction</a> objects. All values discussed above are supported, with the same meaning. It is worth mentioning that a value of <code><a class="el" href="classgko_1_1precision__reduction.html#a1fde4dd48fab015698c1616408f3ef81" title="Returns a special encoding which instructs the algorithm to automatically detect the best precision.">precision_reduction::autodetect()</a></code> will cause autodetection on the per-block basis, so blocks whose precisions are autodetected can end up having different precisions once the preconditioner is generated. The detected precision generally depends on the conditioning of the block.</p>
<p>If the number of diagonal blocks is larger than the number of elements in the passed <a class="el" href="classgko_1_1Array.html" title="An Array is a container which encapsulates fixed-sized arrays, stored on the Executor tied to the Arr...">Array</a>, the entire <a class="el" href="classgko_1_1Array.html" title="An Array is a container which encapsulates fixed-sized arrays, stored on the Executor tied to the Arr...">Array</a> will be replicated until enough values are available. For example, if the original array contained two precisions <code>(x, y)</code> and the preconditioner contains 5 blocks, the array will be transformed into <code>(x, y, x, y, x)</code> before generating the preconditioner. As a consequence, specifying a single value for this property is exactly equivalent to specifying an array with a single element set to that value.</p>
<p>Once an instance of the <a class="el" href="classgko_1_1preconditioner_1_1Jacobi.html" title="A block-Jacobi preconditioner is a block-diagonal linear operator, obtained by inverting the diagonal...">Jacobi</a> linear operator is generated, the precisions used for the blocks can be obtained by reading this property. Whether the parameter was set to a single value or to an array of values can be queried by reading the <code>storage_optimization.is_block_wise</code> boolean sub-property. If it is set to <code>false</code>, the precision used for all blocks can be obtained using <code>storage_optimization.of_all_blocks</code> or by casting <code>storage_optimization</code> to <code><a class="el" href="classgko_1_1precision__reduction.html" title="This class is used to encode storage precisions of low precision algorithms.">precision_reduction</a></code>. Independently of the value of <code>storage_optimization.is_block_wise</code>, the <code>storage_optimization.block_wise</code> property will return an array of precisions used for each block. All values set to <code><a class="el" href="classgko_1_1precision__reduction.html#a1fde4dd48fab015698c1616408f3ef81" title="Returns a special encoding which instructs the algorithm to automatically detect the best precision.">precision_reduction::autodetect()</a></code> will be replaced with the value representing the precision used for the corresponding block. If the non-adaptive version of <a class="el" href="classgko_1_1preconditioner_1_1Jacobi.html" title="A block-Jacobi preconditioner is a block-diagonal linear operator, obtained by inverting the diagonal...">Jacobi</a> is used, the <code>storage_optimization.block_wise</code> <a class="el" href="classgko_1_1Array.html" title="An Array is a container which encapsulates fixed-sized arrays, stored on the Executor tied to the Arr...">Array</a> will be empty. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>ginkgo/core/preconditioner/<a class="el" href="include_2ginkgo_2core_2preconditioner_2jacobi_8hpp_source.html">jacobi.hpp (ec80371cc)</a></li>
</ul>
</div><!-- contents -->
<div class="ttc" id="astructgko_1_1preconditioner_1_1Jacobi_1_1parameters__type_html_ad4fd0de7ce4d390584e947afb6d0ce73"><div class="ttname"><a href="structgko_1_1preconditioner_1_1Jacobi_1_1parameters__type.html#ad4fd0de7ce4d390584e947afb6d0ce73">gko::preconditioner::Jacobi::parameters_type::accuracy</a></div><div class="ttdeci">remove_complex&lt; value_type &gt; accuracy</div><div class="ttdoc">The relative accuracy of the adaptive Jacobi variant.</div><div class="ttdef"><b>Definition:</b> jacobi.hpp:461</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
