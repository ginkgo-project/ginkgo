<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Ginkgo: Building Ginkgo</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_doc.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Ginkgo
   &#160;<span id="projectnumber">develop 0.0.0</span>
   </div>
   <div id="projectbrief">Ginkgo is a numerical linear algebra library targeting manycore architectures.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="https://github.com/ginkgo-project/ginkgo/wiki/Tutorial:-Building-a-2D-Poisson-Solver"><span>Examples</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="https://ginkgo-project.github.io/"><span>Ginkgo</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Building Ginkgo </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h3>Linux and Mac OS</h3>
<p>For Ginkgo core library:</p>
<ul>
<li>_cmake 3.9+_</li>
<li>C++11 compliant compiler, one of:<ul>
<li>_gcc 5.3+, 6.3+, 7.3+, 8.1+_</li>
<li>_clang 3.9+_</li>
<li>_Apple LLVM 8.0+_ (<b>TODO</b>: verify)</li>
</ul>
</li>
</ul>
<p>The Ginkgo CUDA module has the following <b>additional</b> requirements:</p>
<ul>
<li>_CUDA 9.0+_</li>
<li>Any host compiler restrictions your version of CUDA may impose also apply here. For the newest CUDA version, this information can be found in the <a href="https://docs.nvidia.com/cuda/cuda-installation-guide-linux/index.html">CUDA installation guide for Linux</a> or <a href="https://docs.nvidia.com/cuda/cuda-installation-guide-mac-os-x/index.html">CUDA installation guide for Mac Os X</a></li>
</ul>
<p>In addition, if you want to contribute code to Ginkgo, you will also need the following:</p>
<ul>
<li><em>clang-format 5.0.1+_ (ships as part of _clang</em>)</li>
</ul>
<h3>Windows</h3>
<p>Windows is currently not supported, but we are working on porting the library there. If you are interested in helping us with this effort, feel free to contact one of the developers. (The library itself doesn't use any non-standard C++ features, so most of the effort here is in modifying the build system.)</p>
<p><b>TODO:</b> Some restrictions will also apply on the version of C and C++ standard libraries installed on the system. We need to investigate this further.</p>
<h2>Building Ginkgo </h2>
<p>Use the standard cmake build procedure:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;mkdir build; cd build</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;cmake -G &quot;Unix Makefiles&quot; [OPTIONS] .. &amp;&amp; make</div></div><!-- fragment --><p>Replace <code>[OPTIONS]</code> with desired cmake options for your build. Ginkgo adds the following additional switches to control what is being built:</p>
<ul>
<li><code>-DGINKGO_DEVEL_TOOLS={ON, OFF}</code> sets up the build system for development (requires clang-format, will also download git-cmake-format), default is <code>ON</code></li>
<li><code>-DGINKGO_BUILD_TESTS={ON, OFF}</code> builds Ginkgo's tests (will download googletest), default is <code>ON</code></li>
<li><code>-DGINKGO_BUILD_BENCHMARKS={ON, OFF}</code> builds Ginkgo's benchmarks (will download gflags and rapidjson), default is <code>ON</code></li>
<li><code>-DGINKGO_BUILD_EXAMPLES={ON, OFF}</code> builds Ginkgo's examples, default is <code>ON</code></li>
<li><code>-DGINKGO_BUILD_REFERENCE={ON, OFF}</code> build reference implementations of the kernels, useful for testing, default is <code>OFF</code></li>
<li><code>-DGINKGO_BUILD_OMP={ON, OFF}</code> builds optimized OpenMP versions of the kernels, default is <code>OFF</code></li>
<li><code>-DGINKGO_BUILD_CUDA={ON, OFF}</code> builds optimized cuda versions of the kernels (requires CUDA), default is <code>OFF</code></li>
<li><code>-DGINKGO_BUILD_DOC={ON, OFF}</code> creates an HTML version of Ginkgo's documentation from inline comments in the code. The default is <code>OFF</code>.</li>
<li><code>-DGINKGO_DOC_GENERATE_PDF={ON, OFF}</code> generates a PDF version of Ginkgo's documentation from inline comments in the code. The default is <code>OFF</code>.</li>
<li><code>-DGINKGO_DOC_GENERATE_DEV={ON, OFF}</code> generates the developer version of Ginkgo's documentation. The default is <code>OFF</code>.</li>
<li><code>-DGINKGO_EXPORT_BUILD_DIR={ON, OFF}</code> adds the Ginkgo build directory to the CMake package registry. The default is <code>OFF</code>.</li>
<li><code>-DGINKGO_VERBOSE_LEVEL=integer</code> sets the verbosity of Ginkgo.<ul>
<li><code>0</code> disables all output in the main libraries,</li>
<li><code>1</code> enables a few important messages related to unexpected behavior (default).</li>
</ul>
</li>
<li><code>-DCMAKE_INSTALL_PREFIX=path</code> sets the installation path for <code>make install</code>. The default value is usually something like <code>/usr/local</code></li>
<li><code>-DCMAKE_BUILD_TYPE=type</code> specifies which configuration will be used for this build of Ginkgo. The default is <code>RELEASE</code>. Supported values are CMake's standard build types such as <code>DEBUG</code> and <code>RELEASE</code> and the Ginkgo specific <code>COVERAGE</code>, <code>ASAN</code> (AddressSanitizer) and <code>TSAN</code> (ThreadSanitizer) types.</li>
<li><code>-DBUILD_SHARED_LIBS={ON, OFF}</code> builds ginkgo as shared libraries (<code>OFF</code>) or as dynamic libraries (<code>ON</code>), default is <code>ON</code></li>
<li><code>-DCMAKE_CUDA_HOST_COMPILER=path</code> instructs the build system to explicitly set CUDA's host compiler to the path given as argument. By default, CUDA uses its toolchain's host compiler. Setting this option may help if you're experiencing linking errors due to ABI incompatibilities. This option is supported since <a href="https://github.com/Kitware/CMake/commit/489c52ce680df6439f9c1e553cd2925ca8944cb1">CMake 3.8</a> but <a href="https://cmake.org/cmake/help/v3.10/variable/CMAKE_CUDA_HOST_COMPILER.html">documented starting from 3.10</a>.</li>
<li><p class="startli"><code>-DGINKGO_CUDA_ARCHITECTURES=&lt;list&gt;</code> where <code>&lt;list&gt;</code> is a semicolon (<code>;</code>) separated list of architectures. Supported values are:</p><ul>
<li><code>Auto</code></li>
<li><code>Kepler</code>, <code>Maxwell</code>, <code>Pascal</code>, <code>Volta</code></li>
<li><code>CODE</code>, <code>CODE(COMPUTE)</code>, <code>(COMPUTE)</code></li>
</ul>
<p class="startli"><code>Auto</code> will automatically detect the present CUDA-enabled GPU architectures in the system. <code>Kepler</code>, <code>Maxwell</code>, <code>Pascal</code> and <code>Volta</code> will add flags for all architectures of that particular NVIDIA GPU generation. <code>COMPUTE</code> and <code>CODE</code> are placeholders that should be replaced with compute and code numbers (e.g. for <code>compute_70</code> and <code>sm_70</code> <code>COMPUTE</code> and <code>CODE</code> should be replaced with <code>70</code>. Default is <code>Auto</code>. For a more detailed explanation of this option see the <a href="https://github.com/ginkgo-project/CudaArchitectureSelector/blob/master/CudaArchitectureSelector.cmake#L58"><code>ARCHITECTURES</code> specification list</a> section in the documentation of the CudaArchitectureSelector CMake module.</p>
</li>
</ul>
<p>For example, to build everything (in debug mode), use:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;cmake  -G &quot;Unix Makefiles&quot; -H. -BDebug -DCMAKE_BUILD_TYPE=Debug -DGINKGO_DEVEL_TOOLS=ON \</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;      -DGINKGO_BUILD_TESTS=ON -DGINKGO_BUILD_REFERENCE=ON -DGINKGO_BUILD_OMP=ON \</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;      -DGINKGO_BUILD_CUDA=ON </div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;cmake --build Debug</div></div><!-- fragment --><p>NOTE: Ginkgo is known to work with the <code>Unix Makefiles</code> and <code>Ninja</code> based generators. Other CMake generators are untested.</p>
<h3>Third party libraries and packages</h3>
<p>Ginkgo relies on third party packages in different cases. These third party packages can be turned off by disabling the relevant options.</p>
<ul>
<li>GINKGO_BUILD_CUDA=ON: <a href="https://github.com/ginkgo-project/CudaArchitectureSelector">CudaArchitectureSelector</a> (CAS) is a CMake helper to manage CUDA architecture settings;</li>
<li>GINKGO_BUILD_TESTS=ON: Our tests are implemented with <a href="https://github.com/google/googletest">Google Test</a>;</li>
<li>GINKGO_BUILD_BENCHMARKS=ON: For argument management we use <a href="https://github.com/gflags/gflags">gflags</a> and for JSON parsing we use <a href="https://github.com/Tencent/rapidjson">RapidJSON</a>;</li>
<li>GINKGO_DEVEL_TOOLS=ON: <a href="https://github.com/gflegar/git-cmake-format">git-cmake-format</a> is our CMake helper for code formatting.</li>
</ul>
<p>By default, Ginkgo uses the internal version of each package. For each of the packages <code>GTEST</code>, <code>GFLAGS</code> and <code>RAPIDJSON</code> and <code>CAS</code>, it is possible to force Ginkgo to try to use an external version of a package. For this, set the CMake option <code>-DGINKGO_USE_EXTERNAL_&lt;package&gt;=ON</code>.### Installing Ginkgo</p>
<h3>Installation</h3>
<p>To install Ginkgo into the specified folder, execute the following command in the build folder</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;make install</div></div><!-- fragment --><p>If the installation prefix (see <code>CMAKE_INSTALL_PREFIX</code>) is not writable for your user, e.g. when installing Ginkgo system-wide, it might be necessary to prefix the call with <code>sudo</code>.</p>
<p>After the installation, CMake can find ginkgo with <code>find_package(Ginkgo)</code>. An example can be found in the <a href="test_install/CMakeLists.txt"><code>test_install</code></a>. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
